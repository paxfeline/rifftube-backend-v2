{"ast":null,"code":"import axios from 'axios';\nexport const GOOGLE_USER_SIGNIN = 'GOOGLE_USER_SIGNIN';\nexport const LOGIN = 'LOGIN';\nexport const LOGOUT = 'LOGOUT';\nexport const CREATE_TEMP_AUDIO_RIFF = 'CREATE_TEMP_AUDIO_RIFF';\nexport const CREATE_TEMP_TEXT_RIFF = 'CREATE_TEMP_TEXT_RIFF';\nexport const EDIT_RIFF = 'EDIT_RIFF';\nexport const CANCEL_EDIT = 'CANCEL_EDIT';\nexport const SAVE_RIFF = 'SAVE_RIFF';\nexport const SAVE_RIFF_SUCCESS = 'SAVE_RIFF_SUCCESS';\nexport const SAVE_RIFF_FAILURE = 'SAVE_RIFF_FAILURE';\nexport const UPDATE_RIFF_TIME_SUCCESS = 'UPDATE_RIFF_TIME_SUCCESS';\nexport const DELETE_RIFF = 'DELETE_RIFF';\nexport const SAVE_TEMP_AUDIO = 'SAVE_TEMP_AUDIO';\nexport const SET_RIFF_PLAYING = 'SET_RIFF_PLAYING';\nexport const SET_RIFF_NOT_PLAYING = 'SET_RIFF_NOT_PLAYING';\nexport const LOAD_RIFF = 'LOAD_RIFF';\nexport const RIFF_LOADED = 'RIFF_LOADED';\nexport const SET_PLAYER_MODE = 'SET_PLAYER_MODE';\nexport const EDIT_MODE = 'EDIT_MODE';\nexport const EDIT_NEW_MODE = 'EDIT_NEW_MODE';\nexport const PLAY_MODE = 'PLAY_MODE';\nexport const PAUSE_MODE = 'PAUSE_MODE';\nexport const TOGGLE_PLAYER_MODE = 'TOGGLE_PLAYER_MODE';\nexport const SET_VIDEO_ID = 'SET_VIDEO_ID';\nexport const RECEIVE_NAME_UPDATE = 'RECEIVE_NAME_UPDATE';\nexport const RECEIVE_RIFF_LIST = 'RECEIVE_RIFF_LIST';\nexport const RECEIVE_RIFF_META = 'RECEIVE_RIFF_META';\nexport const TOGGLE_VIEW_USERID_MUTED = 'TOGGLE_VIEW_USERID_MUTED';\nexport const SET_VIEW_USERID_MUTED = 'SET_VIEW_USERID_MUTED';\nexport const RECEIVE_COLLABORATION_ID = 'RECEIVE_COLLABORATION_ID';\nexport const CREATE_PLAYLIST_SUCCESS = 'START_COLLABORATION_SUCCESS';\nexport const CREATE_PLAYLIST_FAILURE = 'START_COLLABORATION_FAILURE';\nexport const SET_VIDEO_DURATION = 'SET_VIDEO_DURATION';\nexport const LOAD_USER_DATA = 'LOAD_USER_DATA';\nexport const LOAD_PUBLIC_USER_DATA = 'LOAD_PUBLIC_USER_DATA';\nexport const LOAD_PUBLIC_USER_NAME = 'LOAD_PUBLIC_USER_NAME';\nexport const LOAD_GLOBAL_VIDEO_LIST = 'LOAD_GLOBAL_VIDEO_LIST';\nexport const SET_IMMEDIATE_OFF = 'SET_IMMEDIATE_OFF';\nexport const SET_IMMEDIATE_ON = 'SET_IMMEDIATE_ON';\nexport const SET_RECORDER = 'SET_RECORDER';\nexport const WEB_SOCKET_UPDATE = 'WEB_SOCKET_UPDATE';\nexport const SAVE_PIC_SUCCESS = 'SAVE_PIC_SUCCESS';\nexport const SAVE_PIC_FAILURE = 'SAVE_PIC_FAILURE';\n\n/******** Login and logout */\n\nexport const login = (email, password) => {\n  return dispatch => {\n    axios({\n      method: 'post',\n      url: `/login`,\n      data: {\n        email,\n        password\n      }\n    }).then(res => {\n      debugger;\n      dispatch({\n        type: LOGIN,\n        payload: res.data\n      });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\nexport const loginWithGoogle = credentialResponse => {\n  console.log(credentialResponse);\n  debugger;\n  return dispatch => {\n    axios({\n      method: 'post',\n      url: `/login-with-google`,\n      data: {\n        credentials: credentialResponse\n      }\n    }).then(res => {\n      console.log(res);\n      dispatch({\n        type: LOGIN,\n        userInfo: res.data\n      });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\nexport const logout = () => {\n  return dispatch => {\n    axios({\n      method: 'delete',\n      url: `/logout`\n    }).then(res => {\n      debugger;\n      dispatch({\n        type: LOGIN,\n        userInfo: res.data\n      });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\n\n/* signup */\n\nexport const signup = (email, password, name, pic) => {\n  return dispatch => {\n    axios({\n      method: 'get',\n      url: `/signup`,\n      data: {\n        email,\n        password,\n        name,\n        pic\n      }\n    }).then(res => {\n      debugger;\n      dispatch({\n        type: LOGIN,\n        userInfo: res.data\n      });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\nexport const signupWithGoogle = (name, pic) => {\n  return dispatch => {\n    axios({\n      method: 'get',\n      url: `/signupWithGoogle`,\n      data: {\n        name,\n        pic\n      }\n    }).then(res => {\n      debugger;\n      dispatch({\n        type: LOGIN,\n        userInfo: res.data\n      });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\n\n/******** WebSockets */\n\nexport const setWebSocket = payload => ({\n  type: WEB_SOCKET_UPDATE,\n  payload\n});\n\n/******** Editing Interface */\n\nexport const setVideoDuration = payload => ({\n  type: SET_VIDEO_DURATION,\n  payload\n});\nexport const setRifferName = newName => {\n  return dispatch => {\n    axios({\n      method: 'post',\n      url: `/set-name`,\n      data: {\n        newName\n      }\n    }).then(res => {\n      dispatch({\n        type: RECEIVE_NAME_UPDATE,\n        payload: res.data\n      });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\nexport const setRiffPic = payload => {\n  return dispatch => {\n    let fd = new FormData();\n    fd.append('image', payload);\n    axios({\n      method: 'post',\n      url: `/save-pic`,\n      data: fd,\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(res => {\n      // res.data.data\n      dispatch({\n        type: SAVE_PIC_SUCCESS,\n        payload: res.data\n      }); // fix these to constants\n    }).catch(err => {\n      dispatch({\n        type: SAVE_PIC_FAILURE,\n        payload: err.response\n      });\n    });\n  };\n};\nexport const getRiffs = videoID => {\n  return dispatch => {\n    axios({\n      method: 'post',\n      url: `/get-riffs`,\n      data: {\n        videoID\n      }\n    }).then(res => {\n      dispatch({\n        type: RECEIVE_RIFF_LIST,\n        payload: res.data\n      });\n    }).catch(err => console.log(\"error\", err));\n    axios({\n      method: 'get',\n      url: `/get-view-riffs/${videoID}`\n    }).then(res => {\n      dispatch({\n        type: RECEIVE_RIFF_META,\n        payload: res.data\n      });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\nexport const setVideoID = videoID => {\n  return dispatch => {\n    dispatch({\n      type: SET_VIDEO_ID,\n      payload: videoID\n    });\n    axios({\n      method: 'get',\n      url: `/get-view-riffs/${videoID}`\n    }).then(res => {\n      dispatch({\n        type: RECEIVE_RIFF_META,\n        payload: res.data\n      });\n    }).catch(error => {\n      dispatch({\n        type: RECEIVE_RIFF_META,\n        payload: {\n          body: []\n        }\n      });\n    });\n    axios({\n      method: 'get',\n      url: `/get-riffs`,\n      data: {\n        videoID\n      }\n    }).then(res => {\n      dispatch({\n        type: RECEIVE_RIFF_LIST,\n        payload: res.data\n      });\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n};\n\n//Delete Riff\nexport const deleteRiff = (riffID, video_id, websocket) => {\n  return dispatch => {\n    axios({\n      method: 'delete',\n      url: `/riff-remove/${riffID}`\n    }).then(res => {\n      dispatch({\n        type: DELETE_RIFF,\n        id: riffID\n      });\n\n      // websocket call\n      websocket.send(JSON.stringify({\n        type: 'update',\n        video_id\n      }));\n    }).catch(err => console.log(\"error\", err));\n  };\n};\n\n// perhaps this action should somehow call the above action (setVideoID)?\n\nexport const getRiffsMeta = videoID => {\n  return dispatch => {\n    axios({\n      method: 'get',\n      url: `/get-view-riffs/${videoID}`\n    }).then(res => {\n      dispatch({\n        type: RECEIVE_RIFF_META,\n        payload: res.data\n      });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\nexport const getViewRiffs = videoID => {\n  return dispatch => {\n    axios({\n      method: 'get',\n      url: `/get-view-riffs/${videoID}`\n    }).then(res => {\n      dispatch({\n        type: RECEIVE_RIFF_LIST,\n        payload: res.data\n      });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\nexport const getUserData = () => {\n  return dispatch => {\n    axios({\n      method: 'get',\n      url: '/get-user-data'\n    }).then(res => {\n      dispatch({\n        type: LOAD_USER_DATA,\n        payload: res.data\n      });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\nexport const getPublicUserData = id => {\n  return dispatch => {\n    axios({\n      method: 'get',\n      url: `/get-user-data-by-id/${id}`\n    }).then(res => {\n      dispatch({\n        type: LOAD_PUBLIC_USER_DATA,\n        payload: res.data\n      });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\nexport const getGlobalVideoList = () => {\n  return dispatch => {\n    axios({\n      method: 'get',\n      url: '/get-global-video-list'\n    }).then(res => {\n      dispatch({\n        type: LOAD_GLOBAL_VIDEO_LIST,\n        payload: res.data\n      });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\nexport const setPlayerMode = mode => ({\n  type: SET_PLAYER_MODE,\n  payload: mode\n});\nexport const togglePlayerMode = mode => ({\n  type: TOGGLE_PLAYER_MODE\n});\n\n/*export const saveRiff = payload => ({\n  type: SAVE_RIFF,\n  payload\n});*/\n\nexport const saveTempAudio = (payload, duration) => ({\n  type: SAVE_TEMP_AUDIO,\n  payload,\n  duration\n});\nexport const editRiff = (payload, id, load) => {\n  return dispatch => {\n    dispatch({\n      type: EDIT_RIFF,\n      payload,\n      // index\n      id\n    });\n\n    // id is only passed when the audio riff needs loading\n    if (load) rawLoadAxios(dispatch, id); // loads riff audio\n  };\n};\n\nexport const cancelEdit = () => ({\n  type: CANCEL_EDIT\n});\nexport const updateRiffTime = (token, start_time, video_id, riff_id, websocket) => {\n  return dispatch => {\n    axios({\n      method: 'post',\n      url: `/update-riff-time`,\n      data: {\n        token,\n        start_time,\n        id: riff_id\n      }\n    }).then(res => {\n      // res.data.data\n      dispatch({\n        type: UPDATE_RIFF_TIME_SUCCESS,\n        id: riff_id,\n        time: start_time\n      });\n      // websocket call\n      websocket.send(JSON.stringify({\n        type: 'update',\n        video_id: video_id\n      }));\n    }).catch(err => {\n      dispatch({\n        type: SAVE_RIFF_FAILURE,\n        payload: err.response\n      });\n    });\n\n    // dispatch NOTHING\n  };\n};\n\nexport const saveRiff = (token, payload, riff, websocket) => {\n  return dispatch => {\n    let fd = new FormData();\n    fd.append('token', token);\n    fd.append(riff.type === 'text' ? 'text' : 'blob', payload.payload);\n    fd.append('type', riff.type);\n    fd.append('duration', riff.type === 'text' ? payload.duration : riff.duration // how can this be right? (I should just relax)\n    );\n\n    fd.append('start_time', payload.time);\n    fd.append('video_id', riff.video_id);\n    fd.append('tempId', riff.tempId);\n\n    // this may be null, and that's ok\n    fd.append('id', riff.id);\n    axios({\n      method: 'post',\n      url: `/save-riff`,\n      data: fd,\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(res => {\n      // res.data.data\n      dispatch({\n        type: SAVE_RIFF_SUCCESS,\n        payload: res.data\n      });\n      // websocket call\n      websocket.send(JSON.stringify({\n        type: 'update',\n        video_id: riff.video_id\n      }));\n    }).catch(err => {\n      dispatch({\n        type: SAVE_RIFF_FAILURE,\n        payload: err.response\n      });\n    });\n\n    // dispatch local save command (clears temp audio)\n    dispatch({\n      type: SAVE_RIFF,\n      payload,\n      riff\n    });\n  };\n};\nexport const createTempRiff = function (type, videoID) {\n  let immediateRecord = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  return {\n    type: type === 'audio' ? CREATE_TEMP_AUDIO_RIFF : CREATE_TEMP_TEXT_RIFF,\n    videoID,\n    immediateRecord\n  };\n};\nexport const setImmediateOn = () => ({\n  type: SET_IMMEDIATE_ON\n});\nexport const setImmediateOff = () => ({\n  type: SET_IMMEDIATE_OFF\n});\nexport const setRecorder = payload => ({\n  type: SET_RECORDER,\n  payload\n});\nexport const setRiffPlaying = (index, playing) => ({\n  type: playing ? SET_RIFF_PLAYING : SET_RIFF_NOT_PLAYING,\n  payload: index\n});\nexport const loadRiff = (id, load) => {\n  return dispatch => {\n    dispatch({\n      type: LOAD_RIFF,\n      payload: id\n    });\n    rawLoadAxios(dispatch, id);\n  };\n};\nconst rawLoadAxios = (dispatch, id) => {\n  axios({\n    method: 'get',\n    url: `/load-riff/${id}`,\n    responseType: 'arraybuffer'\n  }).then(res => {\n    dispatch({\n      type: RIFF_LOADED,\n      payload: res.data,\n      id\n    });\n  }).catch(err => console.log(\"error\", err));\n};","map":{"version":3,"names":["axios","GOOGLE_USER_SIGNIN","LOGIN","LOGOUT","CREATE_TEMP_AUDIO_RIFF","CREATE_TEMP_TEXT_RIFF","EDIT_RIFF","CANCEL_EDIT","SAVE_RIFF","SAVE_RIFF_SUCCESS","SAVE_RIFF_FAILURE","UPDATE_RIFF_TIME_SUCCESS","DELETE_RIFF","SAVE_TEMP_AUDIO","SET_RIFF_PLAYING","SET_RIFF_NOT_PLAYING","LOAD_RIFF","RIFF_LOADED","SET_PLAYER_MODE","EDIT_MODE","EDIT_NEW_MODE","PLAY_MODE","PAUSE_MODE","TOGGLE_PLAYER_MODE","SET_VIDEO_ID","RECEIVE_NAME_UPDATE","RECEIVE_RIFF_LIST","RECEIVE_RIFF_META","TOGGLE_VIEW_USERID_MUTED","SET_VIEW_USERID_MUTED","RECEIVE_COLLABORATION_ID","CREATE_PLAYLIST_SUCCESS","CREATE_PLAYLIST_FAILURE","SET_VIDEO_DURATION","LOAD_USER_DATA","LOAD_PUBLIC_USER_DATA","LOAD_PUBLIC_USER_NAME","LOAD_GLOBAL_VIDEO_LIST","SET_IMMEDIATE_OFF","SET_IMMEDIATE_ON","SET_RECORDER","WEB_SOCKET_UPDATE","SAVE_PIC_SUCCESS","SAVE_PIC_FAILURE","login","email","password","dispatch","method","url","data","then","res","type","payload","catch","err","console","log","loginWithGoogle","credentialResponse","credentials","userInfo","logout","signup","name","pic","signupWithGoogle","setWebSocket","setVideoDuration","setRifferName","newName","setRiffPic","fd","FormData","append","headers","response","getRiffs","videoID","setVideoID","error","body","deleteRiff","riffID","video_id","websocket","id","send","JSON","stringify","getRiffsMeta","getViewRiffs","getUserData","getPublicUserData","getGlobalVideoList","setPlayerMode","mode","togglePlayerMode","saveTempAudio","duration","editRiff","load","rawLoadAxios","cancelEdit","updateRiffTime","token","start_time","riff_id","time","saveRiff","riff","tempId","createTempRiff","immediateRecord","setImmediateOn","setImmediateOff","setRecorder","setRiffPlaying","index","playing","loadRiff","responseType"],"sources":["/Users/davidnewberry/Documents/test_rails/frontend/src/actions/index.js"],"sourcesContent":["import axios from 'axios';\n\nexport const GOOGLE_USER_SIGNIN = 'GOOGLE_USER_SIGNIN';\n\nexport const LOGIN = 'LOGIN';\nexport const LOGOUT = 'LOGOUT';\n\nexport const CREATE_TEMP_AUDIO_RIFF = 'CREATE_TEMP_AUDIO_RIFF';\nexport const CREATE_TEMP_TEXT_RIFF = 'CREATE_TEMP_TEXT_RIFF';\n\nexport const EDIT_RIFF = 'EDIT_RIFF';\n\nexport const CANCEL_EDIT = 'CANCEL_EDIT';\nexport const SAVE_RIFF = 'SAVE_RIFF';\n\nexport const SAVE_RIFF_SUCCESS = 'SAVE_RIFF_SUCCESS';\nexport const SAVE_RIFF_FAILURE = 'SAVE_RIFF_FAILURE';\n\nexport const UPDATE_RIFF_TIME_SUCCESS = 'UPDATE_RIFF_TIME_SUCCESS';\n\nexport const DELETE_RIFF = 'DELETE_RIFF';\n\nexport const SAVE_TEMP_AUDIO = 'SAVE_TEMP_AUDIO';\n\nexport const SET_RIFF_PLAYING = 'SET_RIFF_PLAYING';\nexport const SET_RIFF_NOT_PLAYING = 'SET_RIFF_NOT_PLAYING';\n\nexport const LOAD_RIFF = 'LOAD_RIFF';\nexport const RIFF_LOADED = 'RIFF_LOADED';\n\nexport const SET_PLAYER_MODE = 'SET_PLAYER_MODE';\nexport const EDIT_MODE = 'EDIT_MODE';\nexport const EDIT_NEW_MODE = 'EDIT_NEW_MODE';\nexport const PLAY_MODE = 'PLAY_MODE';\nexport const PAUSE_MODE = 'PAUSE_MODE';\nexport const TOGGLE_PLAYER_MODE = 'TOGGLE_PLAYER_MODE';\n\nexport const SET_VIDEO_ID = 'SET_VIDEO_ID';\nexport const RECEIVE_NAME_UPDATE = 'RECEIVE_NAME_UPDATE';\n\nexport const RECEIVE_RIFF_LIST = 'RECEIVE_RIFF_LIST';\nexport const RECEIVE_RIFF_META = 'RECEIVE_RIFF_META';\n\nexport const TOGGLE_VIEW_USERID_MUTED = 'TOGGLE_VIEW_USERID_MUTED';\nexport const SET_VIEW_USERID_MUTED = 'SET_VIEW_USERID_MUTED';\n\nexport const RECEIVE_COLLABORATION_ID = 'RECEIVE_COLLABORATION_ID';\nexport const CREATE_PLAYLIST_SUCCESS = 'START_COLLABORATION_SUCCESS';\nexport const CREATE_PLAYLIST_FAILURE = 'START_COLLABORATION_FAILURE';\n\nexport const SET_VIDEO_DURATION = 'SET_VIDEO_DURATION';\n\nexport const LOAD_USER_DATA = 'LOAD_USER_DATA';\nexport const LOAD_PUBLIC_USER_DATA = 'LOAD_PUBLIC_USER_DATA';\nexport const LOAD_PUBLIC_USER_NAME = 'LOAD_PUBLIC_USER_NAME';\nexport const LOAD_GLOBAL_VIDEO_LIST = 'LOAD_GLOBAL_VIDEO_LIST';\n\nexport const SET_IMMEDIATE_OFF = 'SET_IMMEDIATE_OFF';\nexport const SET_IMMEDIATE_ON = 'SET_IMMEDIATE_ON';\n\nexport const SET_RECORDER = 'SET_RECORDER';\n\nexport const WEB_SOCKET_UPDATE = 'WEB_SOCKET_UPDATE';\n\nexport const SAVE_PIC_SUCCESS = 'SAVE_PIC_SUCCESS';\nexport const SAVE_PIC_FAILURE = 'SAVE_PIC_FAILURE';\n\n/******** Login and logout */\n\nexport const login = (email, password) => {\n  return (dispatch) => {\n    axios({\n      method: 'post',\n      url: `/login`,\n      data: { email, password },\n    }).then((res) => {\n      debugger;\n      dispatch({ type: LOGIN, payload: res.data });\n    }).catch(err =>\n      console.log(\"error\", err));\n  };\n};\n\nexport const loginWithGoogle = (credentialResponse) => {\n  console.log(credentialResponse);\n  debugger;\n  return (dispatch) => {\n    axios({\n      method: 'post',\n      url: `/login-with-google`,\n      data: { credentials: credentialResponse },\n    }).then((res) => {\n      console.log(res);\n      dispatch({ type: LOGIN, userInfo: res.data });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\n\nexport const logout = () => {\n  return (dispatch) => {\n    axios({\n      method: 'delete',\n      url: `/logout`,\n    }).then((res) => {\n      debugger;\n      dispatch({ type: LOGIN, userInfo: res.data });\n    }).catch(err =>\n      console.log(\"error\", err));\n  };\n};\n\n/* signup */\n\nexport const signup = (email, password, name, pic) => {\n  return (dispatch) => {\n    axios({\n      method: 'get',\n      url: `/signup`,\n      data: { email, password, name, pic },\n    }).then((res) => {\n      debugger;\n      dispatch({ type: LOGIN, userInfo: res.data });\n    }).catch(err =>\n      console.log(\"error\", err));\n  };\n};\n\nexport const signupWithGoogle = (name, pic) => {\n  return (dispatch) => {\n    axios({\n      method: 'get',\n      url: `/signupWithGoogle`,\n      data: { name, pic },\n    }).then((res) => {\n      debugger;\n      dispatch({ type: LOGIN, userInfo: res.data });\n    }).catch(err =>\n      console.log(\"error\", err));\n  };\n};\n\n/******** WebSockets */\n\nexport const setWebSocket = (payload) => ({\n  type: WEB_SOCKET_UPDATE,\n  payload,\n});\n\n/******** Editing Interface */\n\nexport const setVideoDuration = (payload) => ({\n  type: SET_VIDEO_DURATION,\n  payload,\n});\n\nexport const setRifferName = (newName) => {\n  return (dispatch) => {\n    axios({\n      method: 'post',\n      url: `/set-name`,\n      data: { newName },\n    }).then((res) => {\n      dispatch({ type: RECEIVE_NAME_UPDATE, payload: res.data });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\n\nexport const setRiffPic = (payload) => {\n  return (dispatch) => {\n    let fd = new FormData();\n    fd.append('image', payload);\n    axios({\n      method: 'post',\n      url: `/save-pic`,\n      data: fd,\n      headers: { 'Content-Type': 'multipart/form-data' },\n    })\n      .then((res) => {\n        // res.data.data\n        dispatch({ type: SAVE_PIC_SUCCESS, payload: res.data }); // fix these to constants\n      })\n      .catch((err) => {\n        dispatch({ type: SAVE_PIC_FAILURE, payload: err.response });\n      });\n  };\n};\n\nexport const getRiffs = (videoID) => {\n  return (dispatch) => {\n    axios({\n      method: 'post',\n      url: `/get-riffs`,\n      data: { videoID },\n    }).then((res) => {\n      dispatch({ type: RECEIVE_RIFF_LIST, payload: res.data });\n    }).catch(err => console.log(\"error\", err));\n\n    axios({\n      method: 'get',\n      url: `/get-view-riffs/${videoID}`,\n    }).then((res) => {\n      dispatch({ type: RECEIVE_RIFF_META, payload: res.data });\n    }).catch(err => console.log(\"error\", err));\n  }\n};\n\nexport const setVideoID = (videoID) => {\n  return (dispatch) => {\n    dispatch({\n      type: SET_VIDEO_ID,\n      payload: videoID,\n    });\n    axios({\n      method: 'get',\n      url: `/get-view-riffs/${videoID}`,\n    }).then((res) => {\n      dispatch({ type: RECEIVE_RIFF_META, payload: res.data });\n    }).catch(error => {\n      dispatch({ type: RECEIVE_RIFF_META, payload: { body: [] } });\n    });\n  \n    axios({\n      method: 'get',\n      url: `/get-riffs`,\n      data: { videoID },\n    }).then((res) => {\n      dispatch({ type: RECEIVE_RIFF_LIST, payload: res.data });\n    }).catch(error => {\n      console.error(error);\n    });\n  \n  };\n};\n\n//Delete Riff\nexport const deleteRiff = (riffID, video_id, websocket) => {\n  return (dispatch) => {\n    axios({\n      method: 'delete',\n      url: `/riff-remove/${riffID}`\n    }).then((res) => {\n      dispatch({ type: DELETE_RIFF, id: riffID });\n\n      // websocket call\n      websocket.send(JSON.stringify({ type: 'update', video_id }));\n    }).catch(err => console.log(\"error\", err));\n  };\n};\n\n// perhaps this action should somehow call the above action (setVideoID)?\n\n\nexport const getRiffsMeta = (videoID) => {\n  return (dispatch) => {\n    axios({\n      method: 'get',\n      url: `/get-view-riffs/${videoID}`,\n    }).then((res) => {\n      dispatch({ type: RECEIVE_RIFF_META, payload: res.data });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\n\nexport const getViewRiffs = (videoID) => {\n  return (dispatch) => {\n    axios({\n      method: 'get',\n      url: `/get-view-riffs/${videoID}`,\n    }).then((res) => {\n      dispatch({ type: RECEIVE_RIFF_LIST, payload: res.data });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\n\nexport const getUserData = () => {\n  return (dispatch) => {\n    axios({\n      method: 'get',\n      url: '/get-user-data',\n    }).then((res) => {\n      dispatch({ type: LOAD_USER_DATA, payload: res.data });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\n\nexport const getPublicUserData = (id) => {\n  return (dispatch) => {\n    axios({\n      method: 'get',\n      url: `/get-user-data-by-id/${id}`,\n    }).then((res) => {\n      dispatch({ type: LOAD_PUBLIC_USER_DATA, payload: res.data });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\n\nexport const getGlobalVideoList = () => {\n  return (dispatch) => {\n    axios({\n      method: 'get',\n      url: '/get-global-video-list',\n    }).then((res) => {\n      dispatch({ type: LOAD_GLOBAL_VIDEO_LIST, payload: res.data });\n    }).catch(err => console.log(\"error\", err));\n  };\n};\n\nexport const setPlayerMode = (mode) => ({\n  type: SET_PLAYER_MODE,\n  payload: mode,\n});\n\nexport const togglePlayerMode = (mode) => ({\n  type: TOGGLE_PLAYER_MODE,\n});\n\n/*export const saveRiff = payload => ({\n  type: SAVE_RIFF,\n  payload\n});*/\n\nexport const saveTempAudio = (payload, duration) => ({\n  type: SAVE_TEMP_AUDIO,\n  payload,\n  duration,\n});\n\nexport const editRiff = (payload, id, load) => {\n  return (dispatch) => {\n    dispatch({\n      type: EDIT_RIFF,\n      payload, // index\n      id,\n    });\n\n    // id is only passed when the audio riff needs loading\n    if (load) rawLoadAxios(dispatch, id); // loads riff audio\n  };\n};\n\nexport const cancelEdit = () => ({\n  type: CANCEL_EDIT,\n});\n\nexport const updateRiffTime = (token, start_time, video_id, riff_id, websocket) => {\n  return (dispatch) => {\n    axios({\n      method: 'post',\n      url: `/update-riff-time`,\n      data: { token, start_time, id: riff_id },\n    })\n      .then((res) => {\n        // res.data.data\n        dispatch({ type: UPDATE_RIFF_TIME_SUCCESS, id: riff_id, time: start_time });\n        // websocket call\n        websocket.send(\n          JSON.stringify({ type: 'update', video_id: video_id })\n        );\n      })\n      .catch((err) => {\n        dispatch({ type: SAVE_RIFF_FAILURE, payload: err.response });\n      });\n\n    // dispatch NOTHING\n  };\n}\n\nexport const saveRiff = (token, payload, riff, websocket) => {\n  return (dispatch) => {\n    let fd = new FormData();\n    fd.append('token', token);\n    fd.append(riff.type === 'text' ? 'text' : 'blob', payload.payload);\n    fd.append('type', riff.type);\n    fd.append(\n      'duration',\n      riff.type === 'text' ? payload.duration : riff.duration // how can this be right? (I should just relax)\n    );\n    fd.append('start_time', payload.time);\n    fd.append('video_id', riff.video_id);\n    fd.append('tempId', riff.tempId);\n\n    // this may be null, and that's ok\n    fd.append('id', riff.id);\n\n    axios({\n      method: 'post',\n      url: `/save-riff`,\n      data: fd,\n      headers: { 'Content-Type': 'multipart/form-data' },\n    })\n      .then((res) => {\n        // res.data.data\n        dispatch({ type: SAVE_RIFF_SUCCESS, payload: res.data });\n        // websocket call\n        websocket.send(\n          JSON.stringify({ type: 'update', video_id: riff.video_id })\n        );\n      })\n      .catch((err) => {\n        dispatch({ type: SAVE_RIFF_FAILURE, payload: err.response });\n      });\n\n    // dispatch local save command (clears temp audio)\n    dispatch({ type: SAVE_RIFF, payload, riff });\n  };\n};\n\nexport const createTempRiff = (type, videoID, immediateRecord = false) => ({\n  type: type === 'audio' ? CREATE_TEMP_AUDIO_RIFF : CREATE_TEMP_TEXT_RIFF,\n  videoID,\n  immediateRecord,\n});\n\nexport const setImmediateOn = () => ({\n  type: SET_IMMEDIATE_ON,\n});\n\nexport const setImmediateOff = () => ({\n  type: SET_IMMEDIATE_OFF,\n});\n\nexport const setRecorder = (payload) => ({\n  type: SET_RECORDER,\n  payload,\n});\n\nexport const setRiffPlaying = (index, playing) => ({\n  type: playing ? SET_RIFF_PLAYING : SET_RIFF_NOT_PLAYING,\n  payload: index,\n});\n\nexport const loadRiff = (id, load) => {\n  return (dispatch) => {\n    dispatch({ type: LOAD_RIFF, payload: id });\n    rawLoadAxios(dispatch, id);\n  };\n};\n\nconst rawLoadAxios = (dispatch, id) => {\n  axios({\n    method: 'get',\n    url: `/load-riff/${id}`,\n    responseType: 'arraybuffer',\n  }).then((res) => {\n    dispatch({ type: RIFF_LOADED, payload: res.data, id });\n  }).catch(err => console.log(\"error\", err));\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}