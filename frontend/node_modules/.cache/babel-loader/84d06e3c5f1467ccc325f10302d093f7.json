{"ast":null,"code":"import _slicedToArray from\"/Users/davidnewberry/Documents/test_rails/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{connect}from'react-redux';import{Link}from'react-router-dom';import Login from'./Login/Login';import{setRifferName,setRiffPic,getUserData}from'../actions';import NavBar from'./NavBar.js';import VideoList from'./VideoList';var Account=function Account(_ref){var name=_ref.name,googleUser=_ref.googleUser,setRifferName=_ref.setRifferName,setRiffPic=_ref.setRiffPic,userData=_ref.userData,getUserData=_ref.getUserData,userid=_ref.userid,acctImgKey=_ref.acctImgKey;var _useState=useState(name),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];useEffect(function(){if(googleUser)getUserData(googleUser);},[getUserData,googleUser]);var loggedIn=function loggedIn(){if(googleUser)return googleUser.isSignedIn();return false;};var handleSubmit=function handleSubmit(event){event.preventDefault();if(userName!==''){setRifferName(userName,googleUser);}};var picSubmit=function picSubmit(event){event.preventDefault();//console.log(event.target.children[0].value);\nsetRiffPic(event.target.children[0].files[0],googleUser);};var handleChange=function handleChange(event){event.preventDefault();setUserName(event.target.value);};return/*#__PURE__*/React.createElement(\"div\",{className:\"landing-page\"},/*#__PURE__*/React.createElement(NavBar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"title-and-url heading\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"heading-primary-main account-heading\"},\"Account Settings\")),/*#__PURE__*/React.createElement(\"section\",{className:\"top-part\"},loggedIn()?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h3\",null,\"visit \",/*#__PURE__*/React.createElement(Link,{to:\"/profile/\".concat(userid)},\"public profile\")),/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(event){return handleSubmit(event);}},/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"h3\",{className:\"account-section-title\"},\"My Riffer Name\"),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(event){return handleChange(event);},type:\"text\",name:\"name\",defaultValue:name,className:\"form-field\"})),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Submit\",className:\"btn\"})),/*#__PURE__*/React.createElement(\"img\",{key:acctImgKey,src:\"/get-riffer-pic/\".concat(userid,\".png?\").concat(acctImgKey)}),/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(event){return picSubmit(event);}},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",name:\"image\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Upload\")),/*#__PURE__*/React.createElement(\"h2\",{className:\"account-section-title\"},\"My Videos\"),/*#__PURE__*/React.createElement(VideoList,{userData:userData})):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Login,null),\" \",/*#__PURE__*/React.createElement(\"p\",null,\"to get started\"))));};var mapStateToProps=function mapStateToProps(state){return{name:state.name,googleUser:state.googleUser,userData:state.userData,userid:state.user_id,acctImgKey:state.acctImgKey};};var mapDispatchToProps={setRifferName:setRifferName,setRiffPic:setRiffPic,getUserData:getUserData};export default connect(mapStateToProps,mapDispatchToProps)(Account);","map":{"version":3,"names":["React","useState","useEffect","connect","Link","Login","setRifferName","setRiffPic","getUserData","NavBar","VideoList","Account","name","googleUser","userData","userid","acctImgKey","userName","setUserName","loggedIn","isSignedIn","handleSubmit","event","preventDefault","picSubmit","target","children","files","handleChange","value","mapStateToProps","state","user_id","mapDispatchToProps"],"sources":["/Users/davidnewberry/Documents/test_rails/frontend/src/components/Account.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport Login from './Login/Login';\nimport { setRifferName, setRiffPic, getUserData } from '../actions';\nimport NavBar from './NavBar.js';\nimport VideoList from './VideoList';\n\nconst Account = ({\n  name,\n  googleUser,\n  setRifferName,\n  setRiffPic,\n  userData,\n  getUserData,\n  userid,\n  acctImgKey,\n}) => {\n  const [userName, setUserName] = useState(name);\n\n  useEffect(() => {\n    if (googleUser) getUserData(googleUser);\n  }, [getUserData, googleUser]);\n\n  const loggedIn = () => {\n    if (googleUser) return googleUser.isSignedIn();\n    return false;\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (userName !== '') {\n      setRifferName(userName, googleUser);\n    }\n  };\n\n  const picSubmit = (event) => {\n    event.preventDefault();\n    //console.log(event.target.children[0].value);\n    setRiffPic(event.target.children[0].files[0], googleUser);\n  };\n\n  const handleChange = (event) => {\n    event.preventDefault();\n    setUserName(event.target.value);\n  };\n\n  return (\n    <div className=\"landing-page\">\n      <NavBar />\n      <div className=\"title-and-url heading\">\n        <h1 className=\"heading-primary-main account-heading\">\n          Account Settings\n        </h1>\n      </div>\n      <section className=\"top-part\">\n        {loggedIn() ? (\n          <React.Fragment>\n            <h3>\n              visit <Link to={`/profile/${userid}`}>public profile</Link>\n            </h3>\n            <form onSubmit={(event) => handleSubmit(event)}>\n              <label>\n                <h3 className=\"account-section-title\">My Riffer Name</h3>\n                <input\n                  onChange={(event) => handleChange(event)}\n                  type=\"text\"\n                  name=\"name\"\n                  defaultValue={name}\n                  className=\"form-field\"\n                />\n              </label>\n              <input type=\"submit\" value=\"Submit\" className=\"btn\" />\n            </form>\n            <img key={acctImgKey} src={`/get-riffer-pic/${userid}.png?${acctImgKey}`} />\n            <form onSubmit={(event) => picSubmit(event)}>\n              <input type=\"file\" name=\"image\" /><br /><br />\n              <button type=\"submit\">Upload</button>\n            </form>\n            <h2 className=\"account-section-title\">My Videos</h2>\n            <VideoList userData={userData} />\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <Login /> <p>to get started</p>\n          </React.Fragment>\n        )}\n      </section>\n    </div>\n  );\n};\n\nlet mapStateToProps = (state) => ({\n  name: state.name,\n  googleUser: state.googleUser,\n  userData: state.userData,\n  userid: state.user_id,\n  acctImgKey: state.acctImgKey,\n});\n\nconst mapDispatchToProps = {\n  setRifferName,\n  setRiffPic,\n  getUserData,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Account);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}